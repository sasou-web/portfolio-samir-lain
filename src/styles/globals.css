@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=IBM+Plex+Mono:wght@400;600&family=VT323&display=swap');

:root {
  --bg: #0D0F12;        /* bg */
  --surface: #171A20;   /* cards */
  --accent: #6A4C93;    /* violet */
  --muted: #8A9AA9;     /* texte secondaire */
  --paper: #E0D7CC;     /* papier jauni */
  --crt-green: #A3FF8F; /* scanline */
  --alert: #C44536;
  color-scheme: dark;
}

html[data-theme='light'] {
  --bg: #FAFAFA;
  --surface: #FFFFFF;
  --accent: #6A4C93;
  --muted: #55616d;
  --paper: #E0D7CC;
  --crt-green: #2EEA77;
  --alert: #C44536;
  color-scheme: light;
}

html {
  background: var(--bg);
}

body { @apply text-[15px] leading-relaxed text-white/90 font-sans bg-[var(--bg)] antialiased; }

/* CRT scanlines overlay */
.scanlines {
  pointer-events: none;
  position: fixed; inset: 0; mix-blend-mode: overlay; opacity: .12;
  background: repeating-linear-gradient(
    to bottom,
    rgba(163,255,143,0.06) 0px,
    rgba(163,255,143,0.06) 1px,
    rgba(0,0,0,0) 2px,
    rgba(0,0,0,0) 3px
  );
  animation: scan 8s linear infinite;
}

/* Focus visible */
:focus-visible { outline: 2px dashed var(--crt-green); outline-offset: 3px; }

/* Ripple buttons */
.button { position: relative; overflow: hidden; }
.button::after {
  content: ""; position: absolute; inset: 0; border-radius: 999px; opacity: 0; transform: scale(.8);
  box-shadow: 0 0 0 0 var(--crt-green);
  transition: opacity .2s, transform .2s;
}
.button:active::after { opacity: .25; transform: scale(1.05); box-shadow: 0 0 0 12px var(--crt-green); }

/***** Glitch effect *****/
.glitch { position: relative; }
.glitch::before, .glitch::after {
  content: attr(data-text);
  position: absolute; left: 0; top: 0; width: 100%;
  clip-path: inset(0 0 0 0);
  text-shadow: -1px 0 var(--accent);
  opacity: .75; pointer-events: none;
}
.glitch::after { text-shadow: 1px 0 #00e5ff; }
.glitch:hover { animation: glitch 0.8s steps(2,end) infinite; }

/* Marquee container */
.stack-marquee { white-space: nowrap; overflow: hidden; mask-image: linear-gradient(90deg, transparent, #000 10%, #000 90%, transparent); }

/* Cards */
.card { background: var(--surface); border: 1px solid rgba(255,255,255,.06); border-radius: 16px; box-shadow: var(--shadow, 0 10px 30px rgba(0,0,0,.35)); }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .scanlines { display:none; }
  .anim, .glitch { animation: none !important; }
}